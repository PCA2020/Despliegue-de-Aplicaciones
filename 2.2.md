
PAGE    \\* MERGEFORMAT**2**

PAGE    \\* MERGEFORMAT**2**

OPENSSH INSTALACIÓN

Para poder instalar openssh escribimos en la terminal apt-get update y así actualizamos el sistema

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.001.png)

Y procedemos a su descarga usando el comando install openssh-server

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.002.png)

Y porque suele ser recomendable, decidimos instalar la aplicación cliente con el siguiente comando

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.003.png)

OPPENSH CONFIGURACIÓN: INICIAMOS Y COMPROBAMOS

Empleamos para ello los comandos start sshd.service y status sshd.service.

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.004.png)

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.005.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.006.png)

Investigando y llegado a este punto, nos aconsejan que cambiemos de puerto (señalado en la imagen como puerto 22) aumentando así la seguridad de las aplicaciones. Se haría desde el archivo /etc/ssh/sshd\_config por ejemplo al puerto 222.

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.007.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.008.png)






MARIA DB INSTALACIÓN

Como siempre, actualizamos los paquetes

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.009.png)

Para posteriormente instalar MARIA DB pero ¿Por qué no me solicita la clave? Directamente se ![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.010.png)empieza a cargar el paquete…pues simplemente porque la instalación de MARIADB es así de “segura”, por eso usaremos una línea de comandos que nos proporciona MARIA DB para impedir cuentas no deseadas. Usaremos en el siguiente paso el comando secure\_installation

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.011.png)

Contraseña para la BDD que elegiremos *pca* y continuamos con la serie de batea de preguntas que figuran en la configuración

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.012.png)

MARIA DB COMPROBACIÓN

Y comprobamos que funciona gracias al comando status mariadb y figura como activo

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.013.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.014.png)

Y para finalizar el proceso, añadimos una comprobación extra con la bdd de MySql con el cliente admin para ejecutar procesos administrativos. Conectamos con MariaDB como root usando el socket Unix y devolviendo la versión.

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.015.png)

Pero ¿esto es todo? Si MariaDB seguirá denegando cualquier acceso remoto de forma predeterminada. Por eso debemos seguir con el siguiente paso, configurar una dirección de enlace. Y nosotros vamos a hacer que todas las direcciones IPv4 sean accesibles ¿Cómo?

Accedemos al archivo con el editor nano /etc/mysql/mariadb.conf.d/50-server.cnf y buscamos la línea bind-address

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.016.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.017.png)

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.018.png)Como queremos dar acceso a todas las IPv4 tenemos que definir la dirección por la siguiente

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.019.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.020.png)

Reiniciamos MariaDB

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.021.png)

Y como último paso, concedemos acceso al firewall a todas las IP entrantes con el primer comando, o exclusivamente a una o varias IP.

![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.022.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.023.png)![](Aspose.Words.fd7b040f-62f4-48c4-a7ff-935bc2958369.024.png)

Ahora si que tenemos instalado y configurado correctamente MariaDB

